{% extends "base.html" %}

{% block title %}Log In{% endblock %}

{% block content %}
    <h1>Log In to Your Account</h1>
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            <ul class="flashes">
                {% for message in messages %}
                    <li style="color: red;">{{ message }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    {% endwith %}
    <form action="/login" method="post">
        <input type="text" name="username" placeholder="Username" required />
        <input type="password" name="password" placeholder="Password" required />
        <button type="submit">Log In</button>
    </form>
    <form method="post" style="margin-top:10px;">
    <button type="submit" name="forgot_password_submit">Forgot Password?</button>
</form>
    <p>Don't have an account? <a href="/register">Sign Up here</a></p>
    <p><a href="/index">Back to Home</a></p>
    {% if show_forgot_password %}
    <h3>Forgot Password</h3>
    <form action="{{ url_for('forgot_password') }}" method="post">
        <label>Enter your username:</label><br>
        <input type="text" name="username" required><br><br>
        <input type="submit" value="Reset Password">
    </form>
{% endif %}
    {% if error %}
        <p style="color: red;">{{ error }}</p>
    {% endif %}
{% endblock %}